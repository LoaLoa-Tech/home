{"pageProps":{"markdownPost":{"name":null,"url":null,"content":"---\nid: perf\ntitle: Performance Tools\npermalink: docs/perf.html\nlayout: docs\ncategory: Add-Ons\n---\n\n> Note:\n>\n> As of React 16, `react-addons-perf` is not supported. Please use [your browser's profiling tools](/docs/optimizing-performance.html#profiling-components-with-the-chrome-performance-tab) to get insight into which components re-render.\n\n**Importing**\n\n```javascript\nimport Perf from 'react-addons-perf'; // ES6\nvar Perf = require('react-addons-perf'); // ES5 with npm\n```\n\n\n## Overview {#overview}\n\nReact is usually quite fast out of the box. However, in situations where you need to squeeze every ounce of performance out of your app, it provides a [shouldComponentUpdate()](/docs/react-component.html#shouldcomponentupdate) method where you can add optimization hints to React's diff algorithm.\n\nIn addition to giving you an overview of your app's overall performance, `Perf` is a profiling tool that tells you exactly where you need to put these methods.\n\nSee these articles for an introduction to React performance tooling:\n\n - [\"How to Benchmark React Components\"](https://medium.com/code-life/how-to-benchmark-react-components-the-quick-and-dirty-guide-f595baf1014c)\n - [\"Performance Engineering with React\"](https://benchling.engineering/performance-engineering-with-react-e03013e53285)\n - [\"A Deep Dive into React Perf Debugging\"](https://benchling.engineering/a-deep-dive-into-react-perf-debugging-fd2063f5a667) \n\n### Development vs. Production Builds {#development-vs-production-builds}\n\nIf you're benchmarking or seeing performance problems in your React apps, make sure you're testing with the [minified production build](/downloads.html). The development build includes extra warnings that are helpful when building your apps, but it is slower due to the extra bookkeeping it does.\n\nHowever, the perf tools described on this page only work when using the development build of React. Therefore, the profiler only serves to indicate the _relatively_ expensive parts of your app.\n\n### Using Perf {#using-perf}\n\nThe `Perf` object can be used with React in development mode only. You should not include this bundle when building your app for production.\n\n#### Getting Measurements {#getting-measurements}\n\n - [`start()`](#start)\n - [`stop()`](#stop)\n - [`getLastMeasurements()`](#getlastmeasurements)\n\n#### Printing Results {#printing-results}\n\nThe following methods use the measurements returned by [`Perf.getLastMeasurements()`](#getlastmeasurements) to pretty-print the result.\n\n - [`printInclusive()`](#printinclusive)\n - [`printExclusive()`](#printexclusive)\n - [`printWasted()`](#printwasted)\n - [`printOperations()`](#printoperations)\n - [`printDOM()`](#printdom)\n\n* * *\n\n## Reference {#reference}\n\n### `start()` {#start}\n### `stop()` {#stop}\n\n```javascript\nPerf.start()\n// ...\nPerf.stop()\n```\n\nStart/stop the measurement. The React operations in-between are recorded for analyses below. Operations that took an insignificant amount of time are ignored.\n\nAfter stopping, you will need [`Perf.getLastMeasurements()`](#getlastmeasurements) to get the measurements.\n\n* * *\n\n### `getLastMeasurements()` {#getlastmeasurements}\n\n```javascript\nPerf.getLastMeasurements()\n```\n\nGet the opaque data structure describing measurements from the last start-stop session. You can save it and pass it to the other print methods in [`Perf`](#printing-results) to analyze past measurements.\n\n> Note\n>\n> Don't rely on the exact format of the return value because it may change in minor releases. We will update the documentation if the return value format becomes a supported part of the public API.\n\n* * *\n\n### `printInclusive()` {#printinclusive}\n\n```javascript\nPerf.printInclusive(measurements)\n```\n\nPrints the overall time taken. When no arguments are passed, `printInclusive` defaults to all the measurements from the last recording. This prints a nicely formatted table in the console, like so:\n\n![](../images/docs/perf-inclusive.png)\n\n* * *\n\n### `printExclusive()` {#printexclusive}\n\n```javascript\nPerf.printExclusive(measurements)\n```\n\n\"Exclusive\" times don't include the times taken to mount the components: processing props, calling `componentWillMount` and `componentDidMount`, etc.\n\n![](../images/docs/perf-exclusive.png)\n\n* * *\n\n### `printWasted()` {#printwasted}\n\n```javascript\nPerf.printWasted(measurements)\n```\n\n**The most useful part of the profiler**.\n\n\"Wasted\" time is spent on components that didn't actually render anything, e.g. the render stayed the same, so the DOM wasn't touched.\n\n![](../images/docs/perf-wasted.png)\n\n* * *\n\n### `printOperations()` {#printoperations}\n\n```javascript\nPerf.printOperations(measurements)\n```\n\nPrints the underlying DOM manipulations, e.g. \"set innerHTML\" and \"remove\".\n\n![](../images/docs/perf-dom.png)\n\n* * *\n\n### `printDOM()` {#printdom}\n\n```javascript\nPerf.printDOM(measurements)\n```\n\nThis method has been renamed to [`printOperations()`](#printoperations). Currently `printDOM()` still exists as an alias but it prints a deprecation warning and will eventually be removed.\n"}},"__N_SSG":true}