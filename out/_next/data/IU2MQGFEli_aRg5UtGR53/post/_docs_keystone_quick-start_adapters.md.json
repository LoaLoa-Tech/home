{"pageProps":{"markdownPost":{"name":null,"url":null,"content":"<!--[meta]\nsection: quick-start\ntitle: Database setup\n[meta]-->\n\n# Database Setup\n\nBefore starting your Keystone project you need to have a database set up and ready for Keystone to use.\n\n## Choosing A Database\n\nKeystone currently provides support for [MongoDB](https://www.mongodb.com/) or [PostgreSQL](https://www.postgresql.org/) databases.\nYou will need to pick one of these databases to use for your system.\nBoth databases are fully supported, and you should consider the [pros and cons](https://www.google.com/search?q=mongodb+vs+postgresql) of each to determine which one is best suited to your situation.\n\nOnce you have chosen a database to use you will need to make sure that it is correctly installed and set up, and that you are able to connect to it.\nThe instructions below will take you through this process to ensure that you are ready to continue with your Keystone project.\n\n> **Tip** Take note of the `connection string` that you use to connect to your database, as you will need to know this to set up your Keystone project.\n\n## MongoDB\n\n### Installation\n\n#### MacOS\n\nThe simplest way to install MongoDB is using [Homebrew](https://brew.sh/).\nRefer the [official guide](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/) for more information.\n\n#### Windows\n\nFollow the [official guide](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/) for installing MongoDB on Windows.\n\n#### Other Platforms\n\n[Downloads](https://www.mongodb.com/download-center/community) and [instructions](https://docs.mongodb.com/manual/administration/install-on-linux/) for installation on various Linux systems are also available.\n\n### Connection\n\nOnce you have installed MongoDB you can connect to your database using the command:\n\n```shell allowCopy=false showLanguage=false\n$ mongo mongodb://localhost/my-keystone-project\n```\n\nIn this case the connection string `mongodb://localhost/my-keystone-project` tells MongoDB to connect to a database called `my-keystone-project` on your computer (`localhost`). You should see output which looks like this:\n\n```none allowCopy=false showLanguage=false\n$ mongo mongodb://localhost/my-keystone-project\nMongoDB shell version v4.0.3\nconnecting to: mongodb://localhost/my-keystone-project\nImplicit session: session { \"id\" : UUID(\"2f47e753-d347-4305-92e2-347c095c8072\") }\nMongoDB server version: 4.0.3\nServer has startup warnings:\n2020-04-08T09:31:10.824+1000 I CONTROL  [initandlisten]\n2020-04-08T09:31:10.825+1000 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.\n2020-04-08T09:31:10.825+1000 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.\n2020-04-08T09:31:10.825+1000 I CONTROL  [initandlisten]\n---\nEnable MongoDB's free cloud-based monitoring service, which will then receive and display\nmetrics about your deployment (disk utilization, CPU, operation statistics, etc).\n\nThe monitoring data will be available on a MongoDB website with a unique URL accessible to you\nand anyone you share the URL with. MongoDB may use this information to make product\nimprovements and to suggest MongoDB products and deployment options to you.\n\nTo enable free monitoring, run the following command: db.enableFreeMonitoring()\nTo permanently disable this reminder, run the following command: db.disableFreeMonitoring()\n---\n\n>\n```\n\nIf this works then you are ready to start setting up your Keystone project, and can head back to the [getting started guide](/docs/quick-start/README.md).\n\nIf you run into problems please consult the [MongoDB docs](https://docs.mongodb.com/manual/installation/) for troubleshooting tips.\n\n## PostgreSQL\n\n### Installation\n\n#### MacOS\n\nThe simplest way to install PostgreSQL is using [Homebrew](https://brew.sh/).\n\n```shell\nbrew install postgres\n```\n\n#### Other Platforms\n\nFor Windows and other platforms see the [download instructions](https://www.postgresql.org/download/) on the [postgresql.org](https://postgresql.org) website.\n\n### Setup\n\nOnce you have installed PostgreSQL you will need to create a database for Keystone to use.\nTo create the database run the following command:\n\n```shell allowCopy=false showLanguage=false\ncreatedb my-keystone-project\n```\n\nIf the command runs with no output then you have successfully created your database.\nYou may see an error which looks like this:\n\n```shell allowCopy=false showLanguage=false\ncreatedb: error: could not connect to database template1: FATAL:  password authentication failed for user ...\n```\n\nIf this is the case then you will need to configure the user permissions for your database. Please consult the [PostgreSQL docs](https://www.postgresql.org/docs/) for instructions on how to do this.\n\n### Connection\n\nOnce you have created your database you can connect to it using the command:\n\n```shell allowCopy=false showLanguage=false\n$ psql postgres://localhost/my-keystone-project\n```\n\nIn this case the connection string `postgres://localhost/my-keystone-project` tells PostgreSQL to connect to a database called `my-keystone-project` on your computer (`localhost`). You should see output which looks like this:\n\n```\n$ psql postgres://localhost/my-keystone-project\npsql (12.2, server 9.6.8)\nType \"help\" for help.\n\nmy-keystone-project=#\n```\n\nIf you need to connect to to your database as a particular user then you can include the username and password in the connection string:\n\n```shell allowCopy=false showLanguage=false\n$ psql postgres://<username>:<password>@localhost/my-keystone-project\n```\n\nIf this works then you are ready to start setting up your Keystone project, and can head back to the [getting started guide](/docs/quick-start/README.md).\n\nIf you run into problems please consult the [PostgreSQL docs](https://www.postgresql.org/docs/) for troubleshooting tips.\n"}},"__N_SSG":true}