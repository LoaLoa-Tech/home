<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8"/><meta property="og:type" content="website"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png?h=cf681ecd5bbf6d03e3056673d0122646"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png?h=dada6ed6c75053e6f84520a87241cd23"/><link rel="icon" type="image/png" sizes="180x180" href="/assets/img/apple-icon-180x180.png?h=b5b7d59e89a4d05d1aca1c00dfe1b70f"/><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/android-icon-192x192.png?h=033de9a23d4cfa21fd3383f727564736"/><link rel="icon" type="image/png" sizes="310x310" href="/assets/img/ms-icon-310x310.png?h=f9285fe98206007e11710305c82d9ea2"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.3/united/bootstrap.min.css"/><link rel="stylesheet" href="/assets/css/styles.min.css?h=69c29b29303563e0ebbd0e0e69162409"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2f26bb9842d84a608fa3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2f26bb9842d84a608fa3.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-71dd292baef5e0c3d163.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9116e7bff2bfccdffa19.js" as="script"/><link rel="preload" href="/_next/static/chunks/8638dade453fc283329f8b8dee6f6817b55b3944.9475e511f211dbecfbed.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-de7ed68c6e8649dd556c.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bpath%5D-98a2b37c69fbc1053078.js" as="script"/></head><body><header><img data-aos="fade-down" class="img-wave" src="/assets/img/wave(1).svg" alt="Nền"/><nav class="navbar navbar-light navbar-expand-md navigation-clean py-2"><div class="container"><img class="mr-3" src="/assets/img/favicon-32x32.png?h=dada6ed6c75053e6f84520a87241cd23" alt="logo" width="32" height="32"/><a class="navbar-brand p-0" href="/"><h6 class="text-uppercase m-0 p-0">loa loa team</h6> </a><button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navcol-1"><ul class="nav navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Trang chủ</a></li><li class="nav-item"><a class="nav-link" href="/projects">Dự án</a></li><li class="nav-item"><a class="nav-link" href="/docs">Tài liệu</a></li><li class="nav-item"><a class="nav-link" href="/blogs">Bài viết</a></li></ul></div></div></nav></header><div id="__next"><section class="container"><div><hr>
<p>id: faq-state
title: Component State
permalink: docs/faq-state.html
layout: docs
category: FAQ</p>
<hr>
<h3>What does <code>setState</code> do? {#what-does-setstate-do}</h3>
<p><code>setState()</code> schedules an update to a component's <code>state</code> object. When state changes, the component responds by re-rendering.</p>
<h3>What is the difference between <code>state</code> and <code>props</code>? {#what-is-the-difference-between-state-and-props}</h3>
<p><a href="/docs/components-and-props.html"><code>props</code></a> (short for &quot;properties&quot;) and <a href="/docs/state-and-lifecycle.html"><code>state</code></a> are both plain JavaScript objects. While both hold information that influences the output of render, they are different in one important way: <code>props</code> get passed <em>to</em> the component (similar to function parameters) whereas <code>state</code> is managed <em>within</em> the component (similar to variables declared within a function).</p>
<p>Here are some good resources for further reading on when to use <code>props</code> vs <code>state</code>:</p>
<ul>
<li><a href="https://github.com/uberVU/react-guide/blob/master/props-vs-state.md">Props vs State</a></li>
<li><a href="https://lucybain.com/blog/2016/react-state-vs-pros/">ReactJS: Props vs. State</a></li>
</ul>
<h3>Why is <code>setState</code> giving me the wrong value? {#why-is-setstate-giving-me-the-wrong-value}</h3>
<p>In React, both <code>this.props</code> and <code>this.state</code> represent the <em>rendered</em> values, i.e. what's currently on the screen.</p>
<p>Calls to <code>setState</code> are asynchronous - don't rely on <code>this.state</code> to reflect the new value immediately after calling <code>setState</code>. Pass an updater function instead of an object if you need to compute values based on the current state (see below for details).</p>
<p>Example of code that will <em>not</em> behave as expected:</p>
<pre><code class="language-jsx">incrementCount() {
  // Note: this will *not* work as intended.
  this.setState({count: this.state.count + 1});
}

handleSomething() {
  // Let's say `this.state.count` starts at 0.
  this.incrementCount();
  this.incrementCount();
  this.incrementCount();
  // When React re-renders the component, `this.state.count` will be 1, but you expected 3.

  // This is because `incrementCount()` function above reads from `this.state.count`,
  // but React doesn't update `this.state.count` until the component is re-rendered.
  // So `incrementCount()` ends up reading `this.state.count` as 0 every time, and sets it to 1.

  // The fix is described below!
}
</code></pre>
<p>See below for how to fix this problem.</p>
<h3>How do I update state with values that depend on the current state? {#how-do-i-update-state-with-values-that-depend-on-the-current-state}</h3>
<p>Pass a function instead of an object to <code>setState</code> to ensure the call always uses the most updated version of state (see below).</p>
<h3>What is the difference between passing an object or a function in <code>setState</code>? {#what-is-the-difference-between-passing-an-object-or-a-function-in-setstate}</h3>
<p>Passing an update function allows you to access the current state value inside the updater. Since <code>setState</code> calls are batched, this lets you chain updates and ensure they build on top of each other instead of conflicting:</p>
<pre><code class="language-jsx">incrementCount() {
  this.setState((state) =&gt; {
    // Important: read `state` instead of `this.state` when updating.
    return {count: state.count + 1}
  });
}

handleSomething() {
  // Let's say `this.state.count` starts at 0.
  this.incrementCount();
  this.incrementCount();
  this.incrementCount();

  // If you read `this.state.count` now, it would still be 0.
  // But when React re-renders the component, it will be 3.
}
</code></pre>
<p><a href="/docs/react-component.html#setstate">Learn more about setState</a></p>
<h3>When is <code>setState</code> asynchronous? {#when-is-setstate-asynchronous}</h3>
<p>Currently, <code>setState</code> is asynchronous inside event handlers.</p>
<p>This ensures, for example, that if both <code>Parent</code> and <code>Child</code> call <code>setState</code> during a click event, <code>Child</code> isn't re-rendered twice. Instead, React &quot;flushes&quot; the state updates at the end of the browser event. This results in significant performance improvements in larger apps.</p>
<p>This is an implementation detail so avoid relying on it directly. In the future versions, React will batch updates by default in more cases.</p>
<h3>Why doesn't React update <code>this.state</code> synchronously? {#why-doesnt-react-update-thisstate-synchronously}</h3>
<p>As explained in the previous section, React intentionally &quot;waits&quot; until all components call <code>setState()</code> in their event handlers before starting to re-render. This boosts performance by avoiding unnecessary re-renders.</p>
<p>However, you might still be wondering why React doesn't just update <code>this.state</code> immediately without re-rendering.</p>
<p>There are two main reasons:</p>
<ul>
<li>This would break the consistency between <code>props</code> and <code>state</code>, causing issues that are very hard to debug.</li>
<li>This would make some of the new features we're working on impossible to implement.</li>
</ul>
<p>This <a href="https://github.com/facebook/react/issues/11527#issuecomment-360199710">GitHub comment</a> dives deep into the specific examples.</p>
<h3>Should I use a state management library like Redux or MobX? {#should-i-use-a-state-management-library-like-redux-or-mobx}</h3>
<p><a href="https://redux.js.org/faq/general#when-should-i-use-redux">Maybe.</a></p>
<p>It's a good idea to get to know React first, before adding in additional libraries. You can build quite complex applications using only React.</p>
</div></section></div><footer class="footer-clean"><div class="container"><div class="row justify-content-center"><div class="col-sm-4 col-md-3 item"><h3 class="text-primary">Dịch vụ</h3><ul class="list-unstyled"><li><a class="text-body" href="#">Thiết kế website</a></li><li><a class="text-body" href="#">Phát triển phần mềm</a></li><li><a class="text-body" href="#">Hosting</a></li></ul></div><div class="col-sm-4 col-md-3 item"><h3 class="text-primary">Phát triển bởi</h3><ul class="list-inline d-inline"><li class="list-inline-item d-inline-block">Sinh viên trường ĐH Bách Khoa Đà Nẵng.</li></ul><h3 class="text-primary">Công ty</h3><ul class="list-unstyled"><li>Công ty TNHH Công Nghệ Điện Tử Quảng Đà.</li><li>Mã số thuế: 4001202704.</li><li>Địa chỉ: Thôn 2, Xã Bình Đào, Huyện Thăng Bình, Tỉnh Quảng Nam.<br/></li><li></li></ul></div><div class="col-sm-4 col-md-3 item"><h3 class="text-primary">Liên hệ</h3><ul class="list-unstyled"><li>Leader: Trần Ngọc Huy</li><li>Điện thoại/Zalo: 0332813077</li><li>Địa chỉ: 54 Nguyễn Lương Bằng, Liên Chiểu, Đà Nẵng.</li><li></li></ul><img class="w-100" src="/assets/img/zalo.jpg?h=614debe3b6ec66917ebd818aa1c50b6e" loading="lazy" alt="Zalo"/></div></div></div><img src="/assets/img/wave(2).svg?h=5ad7ab1ad1557422fec002e92b1ae54b" alt="Nền"/></footer><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"markdownPost":{"name":null,"url":null,"content":"---\nid: faq-state\ntitle: Component State\npermalink: docs/faq-state.html\nlayout: docs\ncategory: FAQ\n---\n\n### What does `setState` do? {#what-does-setstate-do}\n\n`setState()` schedules an update to a component's `state` object. When state changes, the component responds by re-rendering.\n\n### What is the difference between `state` and `props`? {#what-is-the-difference-between-state-and-props}\n\n[`props`](/docs/components-and-props.html) (short for \"properties\") and [`state`](/docs/state-and-lifecycle.html) are both plain JavaScript objects. While both hold information that influences the output of render, they are different in one important way: `props` get passed *to* the component (similar to function parameters) whereas `state` is managed *within* the component (similar to variables declared within a function).\n\nHere are some good resources for further reading on when to use `props` vs `state`:\n* [Props vs State](https://github.com/uberVU/react-guide/blob/master/props-vs-state.md)\n* [ReactJS: Props vs. State](https://lucybain.com/blog/2016/react-state-vs-pros/)\n\n### Why is `setState` giving me the wrong value? {#why-is-setstate-giving-me-the-wrong-value}\n\nIn React, both `this.props` and `this.state` represent the *rendered* values, i.e. what's currently on the screen.\n\nCalls to `setState` are asynchronous - don't rely on `this.state` to reflect the new value immediately after calling `setState`. Pass an updater function instead of an object if you need to compute values based on the current state (see below for details).\n\nExample of code that will *not* behave as expected:\n\n```jsx\nincrementCount() {\n  // Note: this will *not* work as intended.\n  this.setState({count: this.state.count + 1});\n}\n\nhandleSomething() {\n  // Let's say `this.state.count` starts at 0.\n  this.incrementCount();\n  this.incrementCount();\n  this.incrementCount();\n  // When React re-renders the component, `this.state.count` will be 1, but you expected 3.\n\n  // This is because `incrementCount()` function above reads from `this.state.count`,\n  // but React doesn't update `this.state.count` until the component is re-rendered.\n  // So `incrementCount()` ends up reading `this.state.count` as 0 every time, and sets it to 1.\n\n  // The fix is described below!\n}\n```\n\nSee below for how to fix this problem.\n\n### How do I update state with values that depend on the current state? {#how-do-i-update-state-with-values-that-depend-on-the-current-state}\n\nPass a function instead of an object to `setState` to ensure the call always uses the most updated version of state (see below). \n\n### What is the difference between passing an object or a function in `setState`? {#what-is-the-difference-between-passing-an-object-or-a-function-in-setstate}\n\nPassing an update function allows you to access the current state value inside the updater. Since `setState` calls are batched, this lets you chain updates and ensure they build on top of each other instead of conflicting:\n\n```jsx\nincrementCount() {\n  this.setState((state) =\u003e {\n    // Important: read `state` instead of `this.state` when updating.\n    return {count: state.count + 1}\n  });\n}\n\nhandleSomething() {\n  // Let's say `this.state.count` starts at 0.\n  this.incrementCount();\n  this.incrementCount();\n  this.incrementCount();\n\n  // If you read `this.state.count` now, it would still be 0.\n  // But when React re-renders the component, it will be 3.\n}\n```\n\n[Learn more about setState](/docs/react-component.html#setstate)\n\n### When is `setState` asynchronous? {#when-is-setstate-asynchronous}\n\nCurrently, `setState` is asynchronous inside event handlers.\n\nThis ensures, for example, that if both `Parent` and `Child` call `setState` during a click event, `Child` isn't re-rendered twice. Instead, React \"flushes\" the state updates at the end of the browser event. This results in significant performance improvements in larger apps.\n\nThis is an implementation detail so avoid relying on it directly. In the future versions, React will batch updates by default in more cases.\n\n### Why doesn't React update `this.state` synchronously? {#why-doesnt-react-update-thisstate-synchronously}\n\nAs explained in the previous section, React intentionally \"waits\" until all components call `setState()` in their event handlers before starting to re-render. This boosts performance by avoiding unnecessary re-renders.\n\nHowever, you might still be wondering why React doesn't just update `this.state` immediately without re-rendering.\n\nThere are two main reasons:\n\n* This would break the consistency between `props` and `state`, causing issues that are very hard to debug.\n* This would make some of the new features we're working on impossible to implement.\n\nThis [GitHub comment](https://github.com/facebook/react/issues/11527#issuecomment-360199710) dives deep into the specific examples.\n\n### Should I use a state management library like Redux or MobX? {#should-i-use-a-state-management-library-like-redux-or-mobx}\n\n[Maybe.](https://redux.js.org/faq/general#when-should-i-use-redux)\n\nIt's a good idea to get to know React first, before adding in additional libraries. You can build quite complex applications using only React.\n"}},"__N_SSG":true},"page":"/post/[path]","query":{"path":"_docs_react_basis-concept_faq-state.md"},"buildId":"IU2MQGFEli_aRg5UtGR53","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-4beebf4ac9054f0bf4e6.js"></script><script src="/_next/static/chunks/main-71dd292baef5e0c3d163.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.9116e7bff2bfccdffa19.js" async=""></script><script src="/_next/static/chunks/8638dade453fc283329f8b8dee6f6817b55b3944.9475e511f211dbecfbed.js" async=""></script><script src="/_next/static/chunks/pages/_app-de7ed68c6e8649dd556c.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bpath%5D-98a2b37c69fbc1053078.js" async=""></script><script src="/_next/static/IU2MQGFEli_aRg5UtGR53/_buildManifest.js" async=""></script><script src="/_next/static/IU2MQGFEli_aRg5UtGR53/_ssgManifest.js" async=""></script></body></html>